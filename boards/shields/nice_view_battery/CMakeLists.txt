if(CONFIG_ZMK_DISPLAY AND CONFIG_NICE_VIEW_WIDGET_STATUS)
  zephyr_library_include_directories(${CMAKE_SOURCE_DIR}/include)
  zephyr_library_sources(custom_status_screen.c)
  zephyr_library_sources(assets/battery.c)
  zephyr_library_sources(assets/battery_mask.c)
  zephyr_library_sources(assets/bolt.c)
  zephyr_library_sources(lib/util.c)
  zephyr_library_sources(widgets/battery.c)
  zephyr_library_sources(widgets/output.c)

  if(NOT CONFIG_ZMK_SPLIT OR CONFIG_ZMK_SPLIT_ROLE_CENTRAL)
    zephyr_library_sources(assets/bt.c)
    zephyr_library_sources(assets/bt_disconnected.c)
    zephyr_library_sources(assets/layer.c)
    zephyr_library_sources(assets/profile.c)
    zephyr_library_sources(assets/profile_active.c)
    zephyr_library_sources(assets/unbound.c)
    zephyr_library_sources(assets/usb.c)
    zephyr_library_sources(widgets/layer.c)
    zephyr_library_sources(widgets/profile.c)
    zephyr_library_sources(screens/central.c)
  else()
    zephyr_library_sources(assets/link.c)
    zephyr_library_sources(assets/link_disconnected.c)
    zephyr_library_sources(screens/peripheral.c)
  endif()
endif()
